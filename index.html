<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>News Portal Pro++</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f0f2f5; }
  header { background:#2c3e50; color:white; padding:1rem; text-align:center; position:sticky; top:0; z-index:1000; }
  header a { color:white; text-decoration:none; margin-left:1rem; font-weight:bold; }
  main { padding:2rem; max-width:1200px; margin:auto; display:flex; gap:2rem; flex-wrap:wrap; }
  .content { flex:3; min-width:300px; }
  .sidebar { flex:1; min-width:200px; }
  .search input, .login input { padding:0.5rem; width:100%; max-width:400px; margin-bottom:1rem; border-radius:5px; border:1px solid #ccc; }
  .login button { padding:0.5rem 1rem; border:none; border-radius:5px; background:#2980b9; color:white; cursor:pointer; }
  .categories { margin-bottom:1rem; }
  .categories button { padding:0.5rem 1rem; margin-right:0.5rem; border:none; border-radius:5px; cursor:pointer; color:white; font-weight:bold; transition:0.3s; }
  .categories button:hover { opacity:0.8; }
  .categories button.Generale { background:#e67e22; }
  .categories button.Sport { background:#27ae60; }
  .categories button.Tecnologia { background:#2980b9; }
  .categories button.active { outline:3px solid #333; }
  .slider { display:flex; overflow-x:auto; margin-bottom:2rem; gap:1rem; scroll-behavior: smooth; }
  .slider::-webkit-scrollbar { display:none; }
  .slide { min-width:300px; border-radius:10px; overflow:hidden; position:relative; cursor:pointer; flex-shrink:0; transition: transform 0.3s; }
  .slide:hover { transform: scale(1.05); }
  .slide img { width:100%; height:180px; object-fit:cover; display:block; }
  .slide .slide-info { position:absolute; bottom:0; left:0; right:0; background:rgba(0,0,0,0.5); color:white; padding:0.5rem; }
  .slide .slide-info h3 { margin:0; font-size:1.1rem; }
  .slide .slide-info small { font-size:0.8rem; color:#ddd; }
  .articolo { background:white; padding:1rem; margin-bottom:1rem; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); display:flex; flex-wrap:wrap; transition: transform 0.2s; }
  .articolo:hover { transform: translateY(-3px); }
  .articolo img { width:180px; height:120px; object-fit:cover; border-radius:5px; margin-right:1rem; flex-shrink:0; }
  .articolo h2 { margin:0; color:#2c3e50; }
  .articolo p { margin:0.5rem 0; color:#555; }
  .articolo small { color:#999; }
  .articolo a { display:inline-block; margin-top:0.5rem; color:#2980b9; text-decoration:none; }
  .articolo a:hover { text-decoration:underline; }
  .categoria { font-weight:bold; padding:2px 6px; border-radius:4px; color:white; font-size:0.8rem; }
  .categoria.Generale { background:#e67e22; }
  .categoria.Sport { background:#27ae60; }
  .categoria.Tecnologia { background:#2980b9; }
  .back { margin-bottom:1rem; display:inline-block; color:#2980b9; text-decoration:none; }
  .back:hover { text-decoration:underline; }
  .sidebar h3 { margin-top:0; color:#2c3e50; border-bottom:1px solid #ccc; padding-bottom:0.3rem; }
  .sidebar ul { list-style:none; padding-left:0; }
  .sidebar li { margin-bottom:0.5rem; }
  .sidebar li a { text-decoration:none; color:#2980b9; }
  .sidebar li a:hover { text-decoration:underline; }
  .commenti { margin-top:1rem; }
  .commento { background:#f5f5f5; padding:0.5rem; border-radius:5px; margin-bottom:0.5rem; display:flex; justify-content:space-between; align-items:center; }
  .like-btn { cursor:pointer; color:#2980b9; margin-left:0.5rem; }
  @media(max-width:900px){ main { flex-direction:column; } .articolo { flex-direction:column; } .articolo img { width:100%; height:auto; margin-bottom:0.5rem; } .slide { min-width:250px; } }
</style>
</head>
<body>
<header>
  <h1>News Portal Pro++</h1>
  <a href="#" id="homeLink">Home</a>
</header>

<main id="main-content"></main>

<script>
const articoli = [
  { id:1, titolo:"Primo articolo", autore:"Admin", contenuto:"Contenuto completo del primo articolo con dettagli e informazioni importanti.", categoria:"Generale", data:"2025-09-07", immagine:"https://via.placeholder.com/600x300", likes:0 },
  { id:2, titolo:"Secondo articolo", autore:"Redazione", contenuto:"Contenuto completo del secondo articolo su eventi sportivi recenti.", categoria:"Sport", data:"2025-09-06", immagine:"https://via.placeholder.com/600x300", likes:0 },
  { id:3, titolo:"Terzo articolo", autore:"Admin", contenuto:"Contenuto completo del terzo articolo su tecnologia e innovazioni.", categoria:"Tecnologia", data:"2025-09-05", immagine:"https://via.placeholder.com/600x300", likes:0 }
];

let categoriaSelezionata = '';
let commenti = {};
let utenteLoggato = null;
const mainContent = document.getElementById('main-content');

function showHome() {
  mainContent.innerHTML = `
    <div class="content">
      <div class="login" id="loginSection"></div>
      <div class="search"><input type="text" id="search" placeholder="Cerca articoli per titolo o categoria..."></div>
      <div class="categories" id="categories"></div>
      <div class="slider" id="slider"></div>
      <div id="articoli"></div>
    </div>
    <div class="sidebar">
      <h3>Notizie Recenti</h3>
      <ul id="recenti"></ul>
      <h3>Pi√π Letti</h3>
      <ul id="piuLetti"></ul>
    </div>
  `;
  renderLogin();
  renderCategories();
  renderSlider();
  renderArticoli();
  renderSidebar();

  document.getElementById('search').addEventListener('input', () => {
    renderArticoli(document.getElementById('search').value);
  });
}

function renderLogin() {
  const loginSection = document.getElementById('loginSection');
  if(utenteLoggato) {
    loginSection.innerHTML = `<p>Benvenuto, <strong>${utenteLoggato}</strong>! <button onclick="logout()">Logout</button></p>`;
  } else {
    loginSection.innerHTML = `
      <input type="text" id="username" placeholder="Nome utente">
      <button onclick="login()">Login</button>
    `;
  }
}

function login() { const input = document.getElementById('username'); if(input.value.trim()){ utenteLoggato=input.value.trim(); renderLogin(); }}
function logout(){ utenteLoggato=null; renderLogin(); }

function renderCategories(){ const container=document.getElementById('categories'); const categorieUniche=[...new Set(articoli.map(a=>a.categoria))]; container.innerHTML=''; categorieUniche.forEach(cat=>{ const btn=document.createElement('button'); btn.textContent=cat; btn.className=cat; if(categoriaSelezionata===cat) btn.classList.add('active'); btn.addEventListener('click',()=>{ categoriaSelezionata=(categoriaSelezionata===cat)?'':cat; renderCategories(); renderArticoli(document.getElementById('search').value); }); container.appendChild(btn); });}

function renderSlider(){ const slider=document.getElementById('slider'); slider.innerHTML=''; articoli.slice(0,3).forEach(a=>{ const div=document.createElement('div'); div.className='slide'; div.innerHTML=`<img src="${a.immagine}" alt="${a.titolo}"><div class="slide-info"><h3>${a.titolo}</h3><small>${a.autore} - ${a.data}</small></div>`; div.addEventListener('click',()=>showArticolo(a.id)); slider.appendChild(div); });}

function renderArticoli(filtro=''){ const container=document.getElementById('articoli'); container.innerHTML=''; let filtrati=articoli.filter(a=>a.titolo.toLowerCase().includes(filtro.toLowerCase())||a.categoria.toLowerCase().includes(filtro.toLowerCase())); if(categoriaSelezionata) filtrati=filtrati.filter(a=>a.categoria===categoriaSelezionata); filtrati.forEach(a=>{ const div=document.createElement('div'); div.className='articolo'; div.innerHTML=`<img src="${a.immagine}" alt="${a.titolo}"><div><h2>${a.titolo}</h2><small>${a.autore} - ${a.data} | <span class="categoria ${a.categoria}">${a.categoria}</span></small><p>${a.contenuto.substring(0,120)}...</p><a href="#" onclick="showArticolo(${a.id})">Leggi di pi√π</a> <span class="like-btn" onclick="likeArticolo(${a.id})">üëç ${a.likes}</span></div>`; container.appendChild(div); });}

function likeArticolo(id){ const art=articoli.find(a=>a.id===id); art.likes++; renderArticoli(document.getElementById('search').value); renderSidebar();}

function renderSidebar(){ const recenti=document.getElementById('recenti'); recenti.innerHTML=''; articoli.slice(0,5).forEach(a=>{ const li=document.createElement('li'); li.innerHTML=`<a href="#" onclick="showArticolo(${a.id})">${a.titolo}</a>`; recenti.appendChild(li); }); const piuLetti=document.getElementById('piuLetti'); piuLetti.innerHTML=''; articoli.sort((a,b)=>b.likes-a.likes).slice(0,5).forEach(a=>{ const li=document.createElement('li'); li.innerHTML=`<a href="#" onclick="showArticolo(${a.id})">${a.titolo} (${a.likes}üëç)</a>`; piuLetti.appendChild(li); });}

function showArticolo(id){ const articolo=articoli.find(a=>a.id===id); const comm=commenti[id]||[]; mainContent.innerHTML=`<div class="content"><a href="#" class="back" id="backLink">&laquo; Torna alla Home</a><h2>${articolo.titolo}</h2><small>${articolo.autore} - ${articolo.data} | <span class="categoria ${articolo.categoria}">${articolo.categoria}</span></small><img src="${articolo.immagine}" alt="${articolo.titolo}" style="width:100%; max-width:700px; margin:1rem 0; border-radius:10px;"><p>${articolo.contenuto}</p><span class="like-btn" onclick="likeArticolo(${articolo.id})">üëç ${articolo.likes}</span><div class="commenti"><h3>Commenti</h3><div id="listaCommenti"></div><div id="aggiungiCommento"></div></div></div><div class="sidebar"><h3>Notizie Recenti</h3><ul id="recenti"></ul><h3>Pi√π Letti</h3><ul id="piuLetti"></ul></div>`; renderSidebar(); renderCommenti(id); document.getElementById('backLink').addEventListener('click',(e)=>{ e.preventDefault(); showHome(); });}

function renderCommenti(idArticolo){ const lista=document.getElementById('listaCommenti'); lista.innerHTML=''; const comm=commenti[idArticolo]||[]; if(comm.length===0) lista.innerHTML='<p>Nessun commento.</p>'; else comm.forEach((c,i)=>{ const div=document.createElement('div'); div.className='commento'; div.innerHTML=`<span>${c.utente}: ${c.text}</span><span class="like-btn" onclick="likeCommento(${idArticolo},${i})">üëç ${c.likes||0}</span>`; lista.appendChild(div); }); const aggiungi=document.getElementById('aggiungiCommento'); if(utenteLoggato){ aggiungi.innerHTML=`<input type="text" id="nuovoCommento" placeholder="Scrivi un commento..."><button onclick="inviaCommento(${idArticolo})">Invia</button>`;} else{aggiungi.innerHTML='<p>Effettua il login per commentare.</p>'; }}

function inviaCommento(idArticolo){ const input=document.getElementById('nuovoCommento'); if(input.value.trim()){ if(!commenti[idArticolo]) commenti[idArticolo]=[]; commenti[idArticolo].push({utente:utenteLoggato,text:input.value.trim(),likes:0}); input.value=''; renderCommenti(idArticolo); }}

function likeCommento(idArticolo,index){ commenti[idArticolo][index].likes++; renderCommenti(idArticolo);}

document.getElementById('homeLink').addEventListener('click',(e)=>{ e.preventDefault(); showHome(); });

showHome();
</script>
</body>
</html>
